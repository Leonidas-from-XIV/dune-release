<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Prompt (dune-release.Dune_release.Prompt)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">dune-release</a> &#x00BB; <a href="../index.html">Dune_release</a> &#x00BB; Prompt</nav><h1>Module <code>Dune_release.Prompt</code></h1></header><dl><dt class="spec type" id="type-answer"><a href="#type-answer" class="anchor"></a><code><span class="keyword">type</span> answer</code><code> = </code><table class="variant"><tr id="type-answer.Yes" class="anchored"><td class="def constructor"><a href="#type-answer.Yes" class="anchor"></a><code>| </code><code><span class="constructor">Yes</span></code></td></tr><tr id="type-answer.No" class="anchored"><td class="def constructor"><a href="#type-answer.No" class="anchor"></a><code>| </code><code><span class="constructor">No</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-confirm"><a href="#val-confirm" class="anchor"></a><code><span class="keyword">val</span> confirm : <span>question:<span><span>(<span class="type-var">'a</span>, unit)</span> Logs.msgf</span></span> <span>&#45;&gt;</span> <span>yes:bool</span> <span>&#45;&gt;</span> <span>default_answer:<a href="index.html#type-answer">answer</a></span> <span>&#45;&gt;</span> bool</code></dt><dd><p>Promtps the user for confirmation. <code>confirm ~question ~yes ~default_answer</code> uses the message formatting function <code>question</code> to format and log a message with the app level and wait for a yes or no answer from the user. Returns <code>true</code> for yes. Defaults to <code>default_answer</code> if the user just presses enter. If <code>yes</code>, then it just skips the prompt and returns <code>true</code>. E.g. <code>confirm ~question:(fun l -&gt; l &quot;Do you want some %a?&quot; Fmt.(styled `Bold
    string) &quot;coffee&quot;)</code></p></dd></dl><dl><dt class="spec value" id="val-confirm_or_abort"><a href="#val-confirm_or_abort" class="anchor"></a><code><span class="keyword">val</span> confirm_or_abort : <span>question:<span><span>(<span class="type-var">'a</span>, unit)</span> Logs.msgf</span></span> <span>&#45;&gt;</span> <span>yes:bool</span> <span>&#45;&gt;</span> <span>default_answer:<a href="index.html#type-answer">answer</a></span> <span>&#45;&gt;</span> <span><span>(unit, Rresult.R.msg)</span> Stdlib.result</span></code></dt><dd><p>Same as <code>confirm</code> but returns <code>Ok ()</code> for yes and <code>Error (`Msg &quot;Aborting on user demand&quot;)</code> for no</p></dd></dl><dl><dt class="spec value" id="val-try_again"><a href="#val-try_again" class="anchor"></a><code><span class="keyword">val</span> try_again : <span>?&#8288;limit:int</span> <span>&#45;&gt;</span> <span>question:<span><span>(<span class="type-var">'a</span>, unit)</span> Logs.msgf</span></span> <span>&#45;&gt;</span> <span>yes:bool</span> <span>&#45;&gt;</span> <span>default_answer:<a href="index.html#type-answer">answer</a></span> <span>&#45;&gt;</span> <span>(unit <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, Rresult.R.msg)</span> Stdlib.result</span>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, Rresult.R.msg)</span> Stdlib.result</span></code></dt><dd><p><code>try_again ?limit ~question ~yes ~default_answer f</code> prompts the user to try running <code>f</code> again if it failed, until <code>f</code> eventually succeeds or the user aborts the process by answering no or the maximum number of retries <code>limit</code> is reached (retries only once by default).</p></dd></dl><dl><dt class="spec value" id="val-user_input"><a href="#val-user_input" class="anchor"></a><code><span class="keyword">val</span> user_input : <span>?&#8288;default_answer:string</span> <span>&#45;&gt;</span> <span>question:string</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> string</code></dt></dl></div></body></html>