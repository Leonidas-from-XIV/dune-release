<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Config (dune-release.Dune_release.Config)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">dune-release</a> &#x00BB; <a href="../index.html">Dune_release</a> &#x00BB; Config</nav><h1>Module <code>Dune_release.Config</code></h1></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = </code><code>{</code><table class="record"><tr id="type-t.user" class="anchored"><td class="def field"><a href="#type-t.user" class="anchor"></a><code>user : <span>string option</span>;</code></td></tr><tr id="type-t.remote" class="anchored"><td class="def field"><a href="#type-t.remote" class="anchor"></a><code>remote : string;</code></td></tr><tr id="type-t.local" class="anchored"><td class="def field"><a href="#type-t.local" class="anchor"></a><code>local : Fpath.t;</code></td></tr><tr id="type-t.keep_v" class="anchored"><td class="def field"><a href="#type-t.keep_v" class="anchor"></a><code>keep_v : <span>bool option</span>;</code></td></tr><tr id="type-t.auto_open" class="anchored"><td class="def field"><a href="#type-t.auto_open" class="anchor"></a><code>auto_open : <span>bool option</span>;</code></td></tr></table><code>}</code></dt></dl><div class="spec module" id="module-Opam_repo_fork"><a href="#module-Opam_repo_fork" class="anchor"></a><code><span class="keyword">module</span> <a href="Opam_repo_fork/index.html">Opam_repo_fork</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : <span>?&#8288;pkgs:<span><a href="../Pkg/index.html#type-t">Pkg.t</a> list</span></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><span>(unit, Bos_setup.R.msg)</span> Stdlib.result</span></code></dt></dl><div class="spec module" id="module-Cli"><a href="#module-Cli" class="anchor"></a><code><span class="keyword">module</span> <a href="Cli/index.html">Cli</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-token"><a href="#val-token" class="anchor"></a><code><span class="keyword">val</span> token : <span>token:<span><span>string <a href="Cli/index.html#type-t">Cli.t</a></span> option</span></span> <span>&#45;&gt;</span> <span>dry_run:bool</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><span>(string, Bos_setup.R.msg)</span> Stdlib.result</span></code></dt><dd><p>Returns the token value that should be used for github API requests. If a <code>token</code> was provided via the CLI, it is returned. Otherwise the token file in the config dir is looked up. If it exists, its content is returned, if it does not, the user is prompted for a token which will be then saved to that file. When <code>dry_run</code> is <code>true</code> it always returns <code>Ok &quot;${token}&quot;</code> but still looks up the relevant config file as it would normally have.</p></dd></dl><dl><dt class="spec value" id="val-keep_v"><a href="#val-keep_v" class="anchor"></a><code><span class="keyword">val</span> keep_v : <span>keep_v:<span>bool <a href="Cli/index.html#type-t">Cli.t</a></span></span> <span>&#45;&gt;</span> <span><span>(bool, Bos_setup.R.msg)</span> Stdlib.result</span></code></dt><dt class="spec value" id="val-auto_open"><a href="#val-auto_open" class="anchor"></a><code><span class="keyword">val</span> auto_open : <span>no_auto_open:<span>bool <a href="Cli/index.html#type-t">Cli.t</a></span></span> <span>&#45;&gt;</span> <span><span>(bool, Bos_setup.R.msg)</span> Stdlib.result</span></code></dt><dt class="spec value" id="val-opam_repo_fork"><a href="#val-opam_repo_fork" class="anchor"></a><code><span class="keyword">val</span> opam_repo_fork : <span>?&#8288;pkgs:<span><a href="../Pkg/index.html#type-t">Pkg.t</a> list</span></span> <span>&#45;&gt;</span> <span>remote:<span><span>string <a href="Cli/index.html#type-t">Cli.t</a></span> option</span></span> <span>&#45;&gt;</span> <span>local:<span><span>Fpath.t <a href="Cli/index.html#type-t">Cli.t</a></span> option</span></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><span>(<a href="Opam_repo_fork/index.html#type-t">Opam_repo_fork.t</a>, Bos_setup.R.msg)</span> Stdlib.result</span></code></dt><dd><p>Returns the opam-repository fork to use, based on the CLI provided values <code>remote</code> and <code>local</code> and the user's configuration.</p><p>If both <code>remote</code> and <code>local</code> are provided, they are returned without reading any local configuration.</p><p>If either or both of them are <code>None</code>, the configuration is looked up. If it doesn't exist, the interactive creation quizz is started. The configuration values are used to fill up the blanks in <code>remote</code> and <code>local</code>.</p><p><code>pkgs</code> is only used to offer suggestions to the user during the creation quizz.</p></dd></dl><dl><dt class="spec value" id="val-load"><a href="#val-load" class="anchor"></a><code><span class="keyword">val</span> load : unit <span>&#45;&gt;</span> <span><span>(<span><a href="index.html#type-t">t</a> option</span>, Bos_setup.R.msg)</span> Stdlib.result</span></code></dt><dt class="spec value" id="val-save"><a href="#val-save" class="anchor"></a><code><span class="keyword">val</span> save : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span>(unit, Bos_setup.R.msg)</span> Stdlib.result</span></code></dt><dt class="spec value" id="val-pretty_fields"><a href="#val-pretty_fields" class="anchor"></a><code><span class="keyword">val</span> pretty_fields : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span>(string * <span>string option</span>)</span> list</span></code></dt><dd><p><code>pretty_fields t</code> returns the list of pretty-printed key-value pairs for the config <code>t</code>.</p></dd></dl><div class="spec module-type" id="module-type-S"><a href="#module-type-S" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S/index.html">S</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Draft_release"><a href="#module-Draft_release" class="anchor"></a><code><span class="keyword">module</span> <a href="Draft_release/index.html">Draft_release</a> : <a href="index.html#module-type-S">S</a></code></div><div class="spec module" id="module-Draft_pr"><a href="#module-Draft_pr" class="anchor"></a><code><span class="keyword">module</span> <a href="Draft_pr/index.html">Draft_pr</a> : <a href="index.html#module-type-S">S</a></code></div><div class="spec module" id="module-Release_asset_name"><a href="#module-Release_asset_name" class="anchor"></a><code><span class="keyword">module</span> <a href="Release_asset_name/index.html">Release_asset_name</a> : <a href="index.html#module-type-S">S</a></code></div></div></body></html>